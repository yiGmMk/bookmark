---
layout: post
---
# Server-Sent Events (SSE) Are Underrated
- URL: [原文](https://igorstechnoclub.com/server-sent-events-sse-are-underrated/)
- Added At: 2025-03-21 02:41:13
- [Link To Text](_posts/2025-03-21-server-sent-events-(sse)-are-underrated_raw.md)

## TL;DR
基于此输出，对该文章的简短总结为：Server-Sent Events（SSE）、是一种允许服务端单向向客户端发送更新，对标准HTTP协议，与WebSocket的双向通信不同，具备实现简单、与现有基础设施兼容、资源消耗低和自动重新连接的特点，适用于实时数据推送的应用场景。

## Summary
**Server-Sent Events（SSE）介绍**

1.  **定义**：SSE是一种允许服务器单向向客户端发送更新的技术，使用标准的HTTP协议，与WebSocket的双向通信不同。
2.  **特点**：实现简单、与现有HTTP基础设施兼容、资源消耗较低、自动重新连接。

**SSE的优势**

1.  **实现简单性**：使用标准HTTP协议，无需复杂的WebSocket连接管理。
2.  **与现有基础设施兼容**：兼容负载均衡器、代理服务器、防火墙和标准HTTP服务器。
3.  **资源效率**：相比WebSocket，资源消耗较低。
4.  **自动重新连接**：浏览器支持自动重新连接和连接中断处理。

**实践应用场景**

1.  实时新闻推送、社交媒体更新。
2.  股票行情实时更新。
3.  桌面计费器开发。
4.  任务实时监控。
5.  服务日志推送。

**示例代码**

1.  服务端（Flask）示例：创建一个流式接口，持续发送随机数据。
2.  客户端（JavaScript）示例：使用EventSource对象管理SSE连接，处理接收到的数据。

**限制和考虑**

1.  **单向通信**：仅允许服务器向客户端发送数据，客户端需要使用其他方法返回信息。
2.  **浏览器兼容性**：现代浏览器支持良好，但可能需要兼容处理旧版浏览器。
3.  **数据格式**：主要支持文本数据，二进制数据需要编码。

**最佳实践**

1.  **错误处理**：正确处理连接断开和错误事件。
2.  **连接管理**：在不使用时关闭SSE连接。
3.  **重新连接策略**：如果连接断开，尝试重新连接。

**真实案例：ChatGPT的SSE实现**

1.  基本请求结构：OpenAI API的实现细节，包括请求头和响应数据的格式。
2.  响应数据格式：每次推送带有数据标识和数据内容。

**总结**

SSE是一种简单有效的实时通信技术，适合大多数单向数据推送场景。考虑到其特点和适用范围，应与WebSocket一起作为实时通信的选择之一。
