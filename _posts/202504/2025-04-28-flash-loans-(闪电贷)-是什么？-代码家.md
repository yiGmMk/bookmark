---
layout: post
---
# Flash Loans (闪电贷) 是什么？ | 代码家
- URL: [原文](https://daimajia.com/2022/05/23/what-is-flash-loans/)
- Added At: 2025-04-28 08:48:16
- [Link To Text](_posts/2025-04-28-flash-loans-(闪电贷)-是什么？-代码家_raw.md)

## TL;DR
闪电贷是一种无需抵押的DeFi创新，旨在打破传统金融壁垒。它允许用户在一次以太坊交易中借入和偿还大量资金，主要用于套利。虽然闪电贷因其技术复杂性和与漏洞攻击的关联而未被广泛采用，但它作为一种强大的金融工具将持续存在，并可能在未来逐渐普及。成功与否取决于用户编程能力、速度和对DeFi生态的理解，同时需考虑Gas费等因素。


## Summary
以下是对您提供的文章内容的总结，采用Markdown列表格式，并详细使用了缩进和子列表。

1.  **闪电贷简介**：
    *   定义：一种DeFi金融创新，允许用户在极短时间内（以太坊交易结束前）借入大量资金（如数亿美元）而无需抵押品。
    *   目的：打破传统金融资本垄断，降低资本成为认知变现壁垒的门槛。
    *   个人愿景：整理闪电贷系列文章，从概念、套利案例到未来憧憬。

2.  **闪电贷限制**：
    *   **编程能力**：需要编写和部署Solidity智能合约才能使用闪电贷（未来可能通过Aave等协议的用户界面简化）。
    *   **时间限制**：必须在借款后的几秒钟内（以太坊交易结束前）偿还贷款及利息（通常略低于1%）。
    *   **网络限制**：资金的使用必须在公链（如以太坊、BSC）生态系统内，不能转移到链外。

3.  **以太坊交易与原子性**：
    *   **以太坊交易**：不仅是资产转移，还可以包含任意逻辑和嵌套交易。
    *   **原子性**：一个交易必须要么完全成功，要么完全失败，不能部分成功。
        *   **意义**：如果顶层交易中的任何子交易失败，整个顶层交易都会失败，所有操作回滚。
        *   **成功条件**：只有当所有子交易都成功，顶层交易才会被添加到区块链，成为不可逆转的事实。

4.  **闪电贷运作机制**：
    *   **流程**：
        1.  开始一个以太坊交易。
        2.  第一个子交易：将借款转移到用户的地址。
        3.  中间子交易：用户可以自由地进行任何交易序列，与协议、DEXs等交互以盈利。
        4.  最后一个子交易：必须全额偿还贷款及利息。
    *   **成功与失败**：
        *   **成功**：成功偿还贷款，整个闪电贷交易完成，贷款人和借款人分别获得利息和利润。
        *   **失败**：未能偿还贷款，整个闪电贷交易失败，所有操作回滚，仿佛从未借到资金。
    *   **薛定谔的贷款**：只有实现了盈利，贷款才是真实的；否则，贷款从未存在。

5.  **闪电贷的应用**：
    *   **主要用例**：套利，即利用同一资产在不同市场之间的价格差异获利。
    *   **套利智能合约**：通常由机器人执行，寻找足够大的套利机会，使用闪电贷进行大规模套利，然后偿还贷款并保留利润。

6.  **闪电贷参与者**：
    *   **贷款人**：拥有大量资金，但缺乏盈利的知识和时间，希望资金增值。
    *   **借款人**：精通DeFi、智能合约、Solidity和套利，但缺乏本金。
    *   **合作模式**：双方短暂匿名合作，贷款人提供资金，借款人负责操作，成功则按比例分配利润。

7.  **闪电贷未成为主流的原因**：
    *   **新颖性**：相对较新的发明。
    *   **直觉上的不适**：感觉不真实，似乎不应该在没有风险的情况下借到巨额资金。
    *   **采用缓慢**：DeFi协议和用户对其接受程度较低。
    *   **与漏洞的关联**：曾被用于DeFi漏洞攻击，导致其与黑客和攻击联系在一起。

8.  **闪电贷攻击**：
    *   **利用方式**：攻击者使用闪电贷款与各种协议进行复杂的互动，欺骗价格反馈或导致稳定币脱钩等。
    *   **必要条件**：需要对涉及的协议有深入的了解和精细的操作。
    *   **漏洞本质**：漏洞存在于被攻击的协议中，而非闪电贷款本身。

9.  **闪电贷的未来**：
    *   **持久性**：只要有DeFi协议支持和用户使用，闪电贷将持续存在。
    *   **正常化前景**：未来可能被正常化，但目前仍存在争议。

10. **补充说明**：
    *   **Gas费**：交易无论成功与否都需要支付Gas费，复杂的子交易会产生较高Gas费，可能导致闪电贷操作亏损。
    *   **适用区块链**：不仅限于以太坊，也存在于BSC等其他区块链上。

